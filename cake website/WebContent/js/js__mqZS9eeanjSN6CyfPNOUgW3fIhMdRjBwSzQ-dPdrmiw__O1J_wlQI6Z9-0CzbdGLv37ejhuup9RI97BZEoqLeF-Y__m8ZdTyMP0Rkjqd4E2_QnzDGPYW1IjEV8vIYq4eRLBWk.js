(function($){Drupal.behaviors.bakingWebengage={attach:function(context,settings){if(typeof Drupal.settings.bakingWebengage!=="undefined"&&typeof Drupal.settings.bakingWebengage.product!=="undefined"){var product=Drupal.settings.bakingWebengage.product;bakingWebengageProductViewEvent(product)}}}})(jQuery);
function bakingWebengageProductViewEvent(product){if(typeof webengage!=="undefined")webengage.track("Product Viewed",{product:product.name,product_id:product.id,product_url:product.url,product_image_url:product.image_url,price:product.price,currency:product.currency,category:product.category,variant:product.variant,flavour:product.flavour})}
function bakingWebengageCheckoutEvents(fieldsValue,uid,extra){var email=fieldsValue["email"].trim(),phone=fieldsValue["phone"],name=fieldsValue["name"];if(typeof webengage!=="undefined"){if(uid)webengage.user.login(uid);else if(extra){webengage.user.logout();bakingWebengageTriggerEvents(extra)}webengage.user.setAttribute({"we_email":email,"we_phone":phone,"we_first_name":name});webengage.track("Checkout Step-1",{"we_email":email,"we_phone":phone,"we_first_name":name})}}
function bakingWebengageTriggerEvents(data){var carts=data.carts;Object.keys(carts).forEach(function(key,index){bakingWebengageAddToCartEvent(this[key])},carts)}function bakingWebengageAddToCartEvent(cart){if(typeof webengage!=="undefined")webengage.track("Added To Cart",{product_id:cart.id,product:cart.name,product_url:cart.product_url,product_image_url:cart.url,price:cart.price,currency:cart.currency,quantity:cart.quantity,category:cart.category,flavour:cart.flavour,variant:cart.variant})}
function bakingDataLayerEvents(fieldsValue,uid){var email=fieldsValue["email"].trim(),phone=fieldsValue["phone"],name=fieldsValue["name"],genderTitle=fieldsValue["genderTitle"];dataLayer.push({"event":"checkout","userdata":{"checkout":{"actionField":{"uid":uid,"userName":name,"userPhone":phone,"userEmail":email,"genderTitle":genderTitle}}}})};;/**/
